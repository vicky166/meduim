/*! For license information please see HomePage.MainContent.03cb5a17.chunk.js.LICENSE.txt */
(self.webpackChunklite=self.webpackChunklite||[]).push([[2883],{15325:(e,t,n)=>{var r=n(96131);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},29905:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},2523:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},96131:(e,t,n)=>{var r=n(2523),i=n(85463),o=n(76959);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},85463:e=>{e.exports=function(e){return e!=e}},55765:(e,t,n)=>{var r=n(38859),i=n(15325),o=n(29905),a=n(19219),l=n(44517),u=n(84247);e.exports=function(e,t,n){var c=-1,d=i,s=e.length,f=!0,m=[],h=m;if(n)f=!1,d=o;else if(s>=200){var p=t?null:l(e);if(p)return u(p);f=!1,d=a,h=new r}else h=t?[]:m;e:for(;++c<s;){var v=e[c],g=t?t(v):v;if(v=n||0!==v?v:0,f&&g==g){for(var y=h.length;y--;)if(h[y]===g)continue e;t&&h.push(g),m.push(v)}else d(h,g,n)||(h!==m&&h.push(g),m.push(v))}return m}},44517:(e,t,n)=>{var r=n(76545),i=n(63950),o=n(84247),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},76959:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},63950:e=>{e.exports=function(){}},50014:(e,t,n)=>{var r=n(15389),i=n(55765);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1155:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MainContent:()=>Be,useLoader:()=>He});var r,i=n(80296),o=n(39181),a=n(96540),l=n(45458),u=n(75636),c=n(27721),d=n(66973),s=n(78723),f="views",m=new d.A("li_homepage"),h=n(49912),p=n(98568),v=n(40739),g=n(53259),y=n.n(g),k=n(31905),w=y()({loading:function(){return null},loader:function(){return n.e(4208).then(n.bind(n,64918))},modules:["./RedeemGiftMembershipModal"],webpack:function(){return[64918]},render:(0,k.X)("RedeemGiftMembershipModal")}),b=n(26191),E=n(13271),x=n(28072),S=n(52290),N=n(72130),F=n(41070),L=n(49287),O=n(60603),_=n(54239),T=new d.A("page-refresh"),P="pageUnloadTime",A=a.createContext({onPageQueryCompleted:function(){return null},pageRefreshed:!1}),I=function(e){var t=e.children,r=(new Date).getTime(),o=a.useState(!!T.get(P)&&r-T.get(P)<5e3),l=(0,i.A)(o,1)[0];return a.useEffect((function(){var e=function(){T.set(P,(new Date).getTime())};return n.g.window.addEventListener("beforeunload",e),function(){n.g.window.removeEventListener("beforeunload",e),T.remove(P)}}),[]),a.createElement(A.Provider,{value:{onPageQueryCompleted:function(){T.remove(P)},pageRefreshed:l}},t)},j=n(40728),R=n(6676),C=n(82284),M=n(10467),D=n(99731),G=n(36557),V=n(51260);function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(null,arguments)}const z=function(e){return a.createElement("svg",H({width:24,height:24,fill:"none",viewBox:"0 0 24 24"},e),r||(r=a.createElement("path",{fill:"#292929",d:"M12 1.143c-5.986 0-10.857 4.864-10.857 10.852S6.013 22.857 12 22.857s10.857-4.873 10.857-10.862a.836.836 0 0 0-1.67 0c0 5.086-4.103 9.2-9.187 9.2a9.183 9.183 0 0 1-9.186-9.2 9.176 9.176 0 0 1 13.78-7.954.836.836 0 0 0 .834-1.444A10.85 10.85 0 0 0 12 1.143m9.709 2.785a.84.84 0 0 0-.566.26c-2.933 3.071-5.767 6.378-8.647 9.435L8.382 9.994a.87.87 0 0 0-1.184.069.87.87 0 0 0 .07 1.184L12 15.425a.866.866 0 0 0 1.157-.052c3.117-3.263 6.119-6.814 9.187-10.027.564-.617.057-1.432-.635-1.418"})))};var B=function(e){var t=e.CTAReason,n=(0,V.om)();return a.createElement(S.a,{padding:"30px 0",textAlign:"center"},a.createElement(S.a,{marginBottom:"24px"},a.createElement(G.kZ,{scale:"M",color:"DARKER"},"EmptyFeed"===t?"Stories from the writers you follow will appear here.":a.createElement(Y,null))),a.createElement(D.$n,{onClick:function(){window.scrollTo(0,0)},href:n("ShowHome",{}),buttonStyle:"STRONG"},"Browse recommended stories"))},Y=function(){return a.createElement(S.a,null,a.createElement(S.a,{marginBottom:"8px"},a.createElement(z,null)),a.createElement("p",null,"You're all caught up"))},Q=n(8075),W={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InlineFeed_homeFeedItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HomeFeedItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"moduleSourceEncoding"}},{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"postProviderExplanation"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StreamPostPreview_postProviderExplanation"}}]}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StreamPostPreview_post"}}]}}]}}].concat((0,l.A)(Q.O.definitions),(0,l.A)(Q.Y.definitions))},q={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"InlineFeed_tagFeedItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TagFeedItem"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"feedId"}},{kind:"Field",name:{kind:"Name",value:"moduleSourceEncoding"}},{kind:"Field",name:{kind:"Name",value:"reason"}},{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"StreamPostPreview_post"}}]}}]}}].concat((0,l.A)(Q.Y.definitions))},K={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowingFeedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followingFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InlineFeed_homeFeedItem"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"to"}},{kind:"Field",name:{kind:"Name",value:"from"}},{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"source"}}]}}]}}]}}]}}].concat((0,l.A)(W.definitions))},$=n(43849),U=n(35642),X=n(30142);function J(e){var t=e.hasMore,n=e.onNeedMore,r=e.items,i=e.sectionType,o=e.topicId,l=e.referrerSource,c=e.showEndOfFeedCTA,d=e.showNegativeSignalIcon,s=(0,u.z)({name:"enable_prototype_boost_labeling",placeholder:!1});return a.createElement(a.Fragment,null,a.createElement(X.i,{fetchMore:t?n:void 0},r.map((function(e,t){var n=null==e?void 0:e.post;if(!n)return null;var r=d&&0===t;return a.createElement(L.Ne,{source:{index:t,feedId:e.feedId||void 0,postFeedReason:e.reason||void 0,rankedModuleType:e.moduleSourceEncoding||void 0,sectionType:i,tagSlug:o},extendSource:!0,key:n.id},a.createElement($.J,{post:n},a.createElement(x.P,{size:"app"},a.createElement(S.a,{marginTop:t?"32px":void 0,width:"100%"},a.createElement(U.$,{index:t,post:n,scale:{xs:"M",sm:"M",md:"L",lg:"L",xl:"L"},reason:e.postProviderExplanation,presentationTrackerReferrerSource:l,showExplicitSignalTooltip:r,showNegativeSignalIcon:d,includeBoostLabel:!!s,trackingV2:!0})))))}))),c&&!t&&a.createElement(B,{CTAReason:"EndOfFeed"}))}function Z(e){var t=e.items,n=e.pageSize,r=e.initialPageSize,o=e.fetchMore,l=a.useState(null!=r?r:n),u=(0,i.A)(l,2),c=u[0],d=u[1];return[a.useMemo((function(){return t.slice(0,c)}),[t.length,c]),a.useCallback((function(){return d(c+n),t.length<c+n?o():new Promise((function(e){window.requestAnimationFrame((function(){e()}))}))}),[t.length,n,c,o])]}function ee(e,t,n,r,i){return e.filter((function(e){var o,a,l=null==e?void 0:e.post;return!!l&&!(t.includes(null===(o=l.creator)||void 0===o?void 0:o.id)||n.includes(null===(a=l.collection)||void 0===a?void 0:a.id)||r.includes(l.id)||i.includes(l.id))}))}function te(){te=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),l=new T(r||[]);return i(a,"_invoke",{value:F(e,n,l)}),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",h="executing",p="completed",v={};function g(){}function y(){}function k(){}var w={};c(w,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(P([])));E&&E!==n&&r.call(E,a)&&(w=E);var x=k.prototype=g.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(i,o,a,l){var u=s(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==(0,C.A)(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(u.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function F(t,n,r){var i=f;return function(o,a){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var u=L(l,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var c=s(t,n,r);if("normal"===c.type){if(i=r.done?p:m,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=p,r.method="throw",r.arg=c.arg)}}}function L(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=s(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError((0,C.A)(t)+" is not iterable")}return y.prototype=k,i(x,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:y,configurable:!0}),y.displayName=c(k,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},S(N.prototype),c(N.prototype,l,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new N(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(x),c(x,u,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var ne=function(e){var t,n,r,l,u=e.initiallyRenderFullFeed,c=a.useContext(A).onPageQueryCompleted,d=(0,o.I)(K,{variables:{paging:{limit:5}},ssr:!1,onCompleted:c}),s=d.loading,f=d.error,m=d.data,h=d.fetchMore,p=(0,R.Kc)(),v=p.mutedAuthorIds,g=p.mutedPubIds,y=p.dismissedPostIds,k=p.seeLessPostIds,w=!(null!=m&&null!==(t=m.followingFeed)&&void 0!==t&&null!==(n=t.pagingInfo)&&void 0!==n&&n.next),b=null==m?void 0:m.followingFeed,S=a.useCallback((0,M.A)(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null==b||null===(t=b.pagingInfo)||void 0===t?void 0:t.next){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",h({variables:{paging:{to:n.to,limit:n.limit,from:n.from,source:n.source}}}));case 4:case"end":return e.stop()}}),e)}))),[null==b||null===(r=b.pagingInfo)||void 0===r?void 0:r.next]),N=null!==(l=null==b?void 0:b.items.length)&&void 0!==l?l:0,F=u?Math.max(N,5):5,O=Z({items:(null==b?void 0:b.items.filter((function(e){return"HomeFeedItem"===(null==e?void 0:e.__typename)})))||[],pageSize:5,initialPageSize:F,fetchMore:S}),_=(0,i.A)(O,2),T=_[0],P=_[1];if(f)return null;if(s)return a.createElement(x.P,{size:"app"},a.createElement(E._,null));var I=ee(T,v,g,y,k);return I.length?a.createElement(L.Ne,{source:{name:"home_following"}},a.createElement(J,{hasMore:!w,onNeedMore:P,items:I,showEndOfFeedCTA:!0})):a.createElement(B,{CTAReason:"EmptyFeed"})},re=n(50014),ie=n.n(re),oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WebInlineRecommendedFeedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"forceRank"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"webRecommendedFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}},{kind:"Argument",name:{kind:"Name",value:"forceRank"},value:{kind:"Variable",name:{kind:"Name",value:"forceRank"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InlineFeed_homeFeedItem"}},{kind:"Field",name:{kind:"Name",value:"reasonString"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"to"}},{kind:"Field",name:{kind:"Name",value:"source"}}]}}]}}]}}]}}].concat((0,l.A)(W.definitions))};function ae(){ae=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),l=new T(r||[]);return i(a,"_invoke",{value:F(e,n,l)}),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",h="executing",p="completed",v={};function g(){}function y(){}function k(){}var w={};c(w,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(P([])));E&&E!==n&&r.call(E,a)&&(w=E);var x=k.prototype=g.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(i,o,a,l){var u=s(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==(0,C.A)(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(u.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function F(t,n,r){var i=f;return function(o,a){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var u=L(l,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var c=s(t,n,r);if("normal"===c.type){if(i=r.done?p:m,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=p,r.method="throw",r.arg=c.arg)}}}function L(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=s(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError((0,C.A)(t)+" is not iterable")}return y.prototype=k,i(x,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:y,configurable:!0}),y.displayName=c(k,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},S(N.prototype),c(N.prototype,l,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new N(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(x),c(x,u,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var le=function(e){var t,n,r,l=e.initiallyRenderFullFeed,u=a.useContext(A),c=u.onPageQueryCompleted,d=u.pageRefreshed,s=(0,o.I)(oe,{ssr:!1,variables:{forceRank:d,paging:{limit:5}},onCompleted:c}),f=s.loading,m=s.error,h=s.data,v=s.fetchMore,g=(0,R.Kc)(),y=g.mutedAuthorIds,k=g.mutedPubIds,w=g.dismissedPostIds,b=g.seeLessPostIds,E=null==h?void 0:h.webRecommendedFeed,x=null==E||null===(t=E.pagingInfo)||void 0===t?void 0:t.next,S=x&&"0"!==x.to,N=a.useCallback((0,M.A)(ae().mark((function e(){return ae().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return");case 2:return e.abrupt("return",v({variables:{paging:{to:x.to,limit:x.limit,source:x.source},forceRank:!1}}));case 3:case"end":return e.stop()}}),e)}))),[null==x?void 0:x.to,S]),F=null!==(n=null==E?void 0:E.items.length)&&void 0!==n?n:0,O=l?Math.max(F,5):5,_=Z({items:null!==(r=null==E?void 0:E.items)&&void 0!==r?r:[],pageSize:5,initialPageSize:O,fetchMore:N}),T=(0,i.A)(_,2),P=T[0],I=T[1];(0,p.M3)(f);var j=(0,a.useMemo)((function(){return ee(ie()(P,(function(e){var t;return null==e||null===(t=e.post)||void 0===t?void 0:t.id})),y,k,w,b)}),[P.length,y,k,w,b]);return f||m?null:a.createElement(L.Ne,{source:{name:"home_for_you"}},a.createElement(J,{hasMore:!!S,onNeedMore:I,items:j,showNegativeSignalIcon:!0}))},ue=n(50684),ce={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WebInlineTopicFeedQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"tagSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skipCache"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"personalisedTagFeed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagSlug"},value:{kind:"Variable",name:{kind:"Name",value:"tagSlug"}}},{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}},{kind:"Argument",name:{kind:"Name",value:"skipCache"},value:{kind:"Variable",name:{kind:"Name",value:"skipCache"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InlineFeed_tagFeedItem"}}]}},{kind:"Field",name:{kind:"Name",value:"pagingInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"next"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"source"}},{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"from"}},{kind:"Field",name:{kind:"Name",value:"to"}}]}}]}}]}}]}}].concat((0,l.A)(q.definitions))};function de(){de=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),l=new T(r||[]);return i(a,"_invoke",{value:F(e,n,l)}),a}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var f="suspendedStart",m="suspendedYield",h="executing",p="completed",v={};function g(){}function y(){}function k(){}var w={};c(w,a,(function(){return this}));var b=Object.getPrototypeOf,E=b&&b(b(P([])));E&&E!==n&&r.call(E,a)&&(w=E);var x=k.prototype=g.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function n(i,o,a,l){var u=s(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==(0,C.A)(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,l)}))}l(u.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function F(t,n,r){var i=f;return function(o,a){if(i===h)throw new Error("Generator is already running");if(i===p){if("throw"===o)throw a;return{value:e,done:!0}}for(r.method=o,r.arg=a;;){var l=r.delegate;if(l){var u=L(l,r);if(u){if(u===v)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var c=s(t,n,r);if("normal"===c.type){if(i=r.done?p:m,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(i=p,r.method="throw",r.arg=c.arg)}}}function L(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,L(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var o=s(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,v;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError((0,C.A)(t)+" is not iterable")}return y.prototype=k,i(x,"constructor",{value:k,configurable:!0}),i(k,"constructor",{value:y,configurable:!0}),y.displayName=c(k,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,c(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},S(N.prototype),c(N.prototype,l,(function(){return this})),t.AsyncIterator=N,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new N(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(x),c(x,u,"Generator"),c(x,a,(function(){return this})),c(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],l=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}var se,fe,me=function(e){var t,n,r,l,u=e.initiallyRenderFullFeed,c=e.tagSlug,d=a.useContext(A),s=d.onPageQueryCompleted,f=d.pageRefreshed,m=(0,ue.MW)(),h=(0,o.I)(ce,{ssr:!1,variables:{tagSlug:c,paging:{limit:5},skipCache:f},onCompleted:s}),p=h.loading,v=h.error,g=h.data,y=h.fetchMore,k=(0,R.Kc)(),w=k.mutedAuthorIds,b=k.mutedPubIds,S=k.dismissedPostIds,N=k.seeLessPostIds,F=null==g?void 0:g.personalisedTagFeed,O=!(null!=F&&null!==(t=F.pagingInfo)&&void 0!==t&&t.next),_=a.useCallback((0,M.A)(de().mark((function e(){var t,n;return de().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=null==F||null===(t=F.pagingInfo)||void 0===t?void 0:t.next)&&"0"!==n.to){e.next=3;break}return e.abrupt("return");case 3:return e.abrupt("return",y({variables:{paging:{to:n.to,from:n.from,limit:n.limit,source:n.source}}}));case 4:case"end":return e.stop()}}),e)}))),[null==F||null===(n=F.pagingInfo)||void 0===n?void 0:n.next,y]),T=null!==(r=null==F?void 0:F.items.length)&&void 0!==r?r:0,P=u?Math.max(T,5):5,I=Z({items:null!==(l=null==F?void 0:F.items)&&void 0!==l?l:[],pageSize:5,initialPageSize:P,fetchMore:_}),j=(0,i.A)(I,2),C=j[0],D=j[1],G=ie()(C,(function(e){var t;return null==e||null===(t=e.post)||void 0===t?void 0:t.id}));if(v)return null;if(p)return a.createElement(x.P,{size:"app"},a.createElement(E._,null));var V=ee(G,w,b,S,N);return V.length?a.createElement(L.Ne,{source:{name:"home_tag"}},a.createElement(J,{hasMore:!O,onNeedMore:D,items:V,topicId:c,referrerSource:m,sectionType:L.gX.HOMEPAGE_FILTERED_TAG,showEndOfFeedCTA:!0,showNegativeSignalIcon:!0})):a.createElement(B,{CTAReason:"EmptyFeed"})};function he(e){var t=e.activeFeed,n=e.initiallyRenderFullFeed;switch(t){case se.Following:return a.createElement(ne,{initiallyRenderFullFeed:n});case se.Recommended:return a.createElement(le,{initiallyRenderFullFeed:n});default:return a.createElement(me,{initiallyRenderFullFeed:n,tagSlug:t})}}!function(e){e.Following="Following",e.Recommended="Recommended"}(se||(se={})),function(e){e.DefaultFeed="feed",e.Tag="tag"}(fe||(fe={}));var pe,ve=function(e){var t=e.activeFeed,n=e.initiallyRenderFullFeed;return a.createElement(R.hd,null,a.createElement(S.a,{paddingTop:"50px"},a.createElement(he,{activeFeed:t,initiallyRenderFullFeed:n})))},ge=n(26947),ye=n(5863),ke=n(62830),we=n(44402),be=n(39160),Ee=n(78693),xe=n(79959),Se=n(46879),Ne=n(24023),Fe=n(64467),Le=n(79429);function Oe(){return Oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(null,arguments)}const _e=function(e){return a.createElement("svg",Oe({xmlns:"http://www.w3.org/2000/svg",width:19,height:19},e),pe||(pe=a.createElement("path",{fillRule:"evenodd",d:"M9 9H3v1h6v6h1v-6h6V9h-6V3H9z"})))};function Te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){(0,Fe.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(e){return{display:"inline-block",padding:"0 2px",borderRadius:"50%",":hover":{backgroundColor:e.colorTokens.background.neutral.secondary.base}}},Ie=function(e){return{fill:e.baseColor.fill.lighter,verticalAlign:"bottom",":hover":{fill:e.colorTokens.foreground.neutral.primary.hover}}},je={border:0,padding:0,color:"inherit",fontSize:"inherit",fontFamily:"inherit",cursor:"pointer"},Re=function(){var e=(0,we.l)();return a.createElement("span",{className:e(Ae)},a.createElement(_e,{className:e(Ie)}))},Ce=function(e){var t=e.id,n=e.displayTitle,r=e.isTagFeed,i=(0,N.$L)(),o=(0,we.l)(),l=(0,L.Fo)(),u=(0,be.d4)((function(e){return e.navigation.referrer})),c=(0,ue.MW)(),d=(0,be.d4)((function(e){return e.navigation.currentLocation})),s=(0,L.wv)(Pe(Pe({},l),{},{tagSlug:t})),f=(0,Le.s)({onPresentedFn:function(){var e={referrer:u||d,referrerSource:c,source:(0,L.wv)(Pe({},l))};i.event("tab.presented",{tabName:t},e)},intersectionThreshold:.8}),m=a.useCallback((function(){window.scrollTo({top:0,behavior:"smooth"});var e={referrer:u||d,referrerSource:c,source:s};i.event("tab.viewed",{tabName:t},e),r&&i.event("tag.viewed",{tagSlug:t},e)}),[i,r,t,l,u,d]);return a.createElement("button",{onClick:m,ref:f,className:o(je)},n)},Me=(0,a.memo)((function(e){var t,n,r=e.viewer,i=e.activeFeed,o=(0,be.d4)((function(e){return e.config.authDomain})),u=(0,V.om)(),c=null!==(t=null==r||null===(n=r.followedTags)||void 0===n?void 0:n.tags.filter((function(e){return(0,Ne.se)(e)&&e.id&&e.displayTitle})))&&void 0!==t?t:[],d=a.useMemo((function(){var e=[{text:a.createElement(Ce,{id:"forYou",displayTitle:"For you"}),isActive:i===se.Recommended,href:u("ShowHome",{})},{text:a.createElement(Ce,{id:"following",displayTitle:"Following"}),isActive:i===se.Following,href:(0,xe.ST)(u("ShowHome",{}),{feed:"following"})}],t={text:a.createElement(Re,null),href:(0,xe.ST)((0,Se.gYp)(o),{},"suggested-topics"),marginRight:"24px"},n=c.map((function(e){return{text:a.createElement(Ce,{id:e.id,displayTitle:e.displayTitle,isTagFeed:!0}),isActive:i===e.id,href:(0,xe.ST)(u("ShowHome",{}),{tag:e.id})}}));return[t].concat(e,(0,l.A)(n))}),[c,i]);return a.createElement(x.P,{size:"app"},a.createElement(S.a,{height:"16px"}),a.createElement(L.Ne,{source:{sectionType:L.gX.HOMEPAGE_FILTERED_TAG},extendSource:!0},a.createElement(ge.F,{items:d})))})),De=function(e){var t,n=(0,we.l)(),r=(0,a.useRef)(null),i=(0,ye.s)(),o=i.addHeightChangeHandler,l=i.removeHeightChangeHandler;return(0,a.useEffect)((function(){var e=function(e){var t=e.currentHeight;r.current&&(r.current.style.top="".concat(t,"px"))};return o(e),function(){l(e)}}),[]),a.createElement(a.Fragment,null,a.createElement(S.a,{paddingTop:{xl:"24px",lg:"24px",md:"8px",sm:"8px",xs:"8px"}}),a.createElement("div",{className:n((t="".concat(ke.oe,"px"),function(e){return{backgroundColor:e.backgroundColor,position:"sticky",zIndex:Ee.Ay.metabar-1,top:t}})),ref:r},a.createElement(Me,e)))},Ge=function(e){var t,n,r=e.viewer,i=e.loading,o=(t=(0,_.W6)(),n=(0,j.JO)(t.location.search),a.useMemo((function(){var e=n[fe.DefaultFeed],t=n[fe.Tag];return"following"===e?se.Following:t||se.Recommended}),[n])),l=function(e){var t=(0,_.W6)(),n=a.useRef("POP"===t.action),r=a.useRef(e);return e!==r.current&&(r.current=e,n.current=!1),n.current}(o);return a.createElement(I,null,!i&&a.createElement(De,{viewer:r,activeFeed:o}),a.createElement(ve,{activeFeed:o,initiallyRenderFullFeed:l}))},Ve={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HomeMainContentHeaderQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"paging"}},type:{kind:"NamedType",name:{kind:"Name",value:"PagingOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"HomeFeedNavbar_viewer"}}]}}]}}].concat((0,l.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"HomeFeedNavbar_viewer"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"followedTags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"paging"},value:{kind:"Variable",name:{kind:"Name",value:"paging"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"displayTitle"}}]}}]}}]}}]))},He=function(){return(0,o.I)(Ve,{ssr:!1})},ze=function(e){var t=e.data,n=e.error,r=e.loading;(0,h.O)({data:{pageType:"li_homepage"},show:!0});var o,d,g,y,k,_=(0,O.e)(!1),T=(0,i.A)(_,3),P=T[0],A=T[1],I=T[2];(0,v.M)(b.G,A),o=(0,u.z)({name:"enable_sprig_lo_reading_history_survey",placeholder:!1}),d=(0,s.L)(),g=(0,c.R)(),y=g.loading,k=g.value,(0,a.useEffect)((function(){var e=(new Date).toDateString(),t=m.get(f)||[];t.length<2&&!t.includes(e)&&m.set(f,[].concat((0,l.A)(t),[e]))}),[]),(0,a.useEffect)((function(){var e=null==k?void 0:k.viewerEdge.createdAt,t=e&&e>1695142998268,n=m.get(f)||0;o&&!y&&t&&(null==n?void 0:n.length)>=2&&(null==d||d.fireEvent("newUser.pageViewed"))}),[o,null==d?void 0:d.fireEvent,null==d?void 0:d.setLocalAttribute,null==k?void 0:k.viewerEdge.createdAt,y,m,f]);var j=(0,N.$L)(),R=(0,L.jI)();(0,a.useEffect)((function(){j.event("homepage.viewed",{source:R})}),[]);var C=(0,F.ld)();return n&&C.reportOnce(n),a.createElement(p.YM,{loadingOverride:r,placeholder:a.createElement(x.P,{size:"app"},a.createElement(S.a,{paddingTop:"80px"}),a.createElement(E._,null))},a.createElement(Ge,{viewer:null==t?void 0:t.viewer,loading:r}),a.createElement(w,{isDialogVisible:P,hide:I}))},Be=(0,a.memo)(ze)},98568:(e,t,n)=>{"use strict";n.d(t,{M3:()=>c,YM:()=>u});var r=n(80296),i=n(96540),o=n(52290),a=function(){return null},l=(0,i.createContext)({increment:a,decrement:a,loading:!1}),u=function(e){var t=e.children,n=e.placeholder,a=e.loadingOverride,u=(0,i.useState)(0),c=(0,r.A)(u,2),d=c[0],s=c[1],f=a||d>0,m=(0,i.useMemo)((function(){return{increment:function(){return s((function(e){return e+1}))},decrement:function(){return s((function(e){return e-1}))},loading:f}}),[f]);return i.createElement(l.Provider,{value:m},f&&n,i.createElement(o.a,{display:f?"none":void 0},t))},c=function(e){var t=(0,i.useContext)(l),n=t.increment,r=t.decrement,o=t.loading,a=(0,i.useRef)(!0);return(0,i.useEffect)((function(){e?n():a.current||r(),a.current=!1}),[e]),o}},13271:(e,t,n)=>{"use strict";n.d(t,{_:()=>l});var r=n(96540),i=n(52290),o=n(10531),a=function(){return r.createElement(i.a,{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px",width:"100%"},r.createElement(i.a,{width:"100%"},r.createElement(i.a,{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"20px"},r.createElement(i.a,{height:"20px",width:"20px",backgroundColor:"BASE_NORMAL",borderRadius:"10px",marginRight:"8px"}),r.createElement(i.a,{height:"8px",width:"82px",backgroundColor:"BASE_NORMAL"})),r.createElement(i.a,{width:"80%",height:"16px",marginBottom:"12px",backgroundColor:"BASE_NORMAL"}),r.createElement(i.a,{width:"65%",height:"16px",marginBottom:"12px",backgroundColor:"BASE_NORMAL"})),r.createElement(i.a,{height:"133px",width:"200px",backgroundColor:"BASE_NORMAL"}))},l=function(e){var t=e.numPlaceholders,n=void 0===t?4:t;return r.createElement(o.H,{itemPlaceholder:a,numPlaceholders:n})}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/HomePage.MainContent.03cb5a17.chunk.js.map